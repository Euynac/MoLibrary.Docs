# Auto Sidebar Plugin for Docusaurus

这个插件用于自动生成基于文件夹结构的侧边栏导航，并使用文件夹名称作为导航分类标签，同时支持使用文件名而非文档内标题作为文档项的标签。它专为 Docusaurus v3 设计，可以无缝集成到任何 Docusaurus 项目中。

## 主要功能

- 自动根据文档文件夹结构生成侧边栏
- 使用文件夹名称作为侧边栏分类标签
- 使用文件名称作为文档项标签，而不是文档内的标题
- 支持自定义标签文本转换函数

## 安装方法

这是一个本地插件，不需要从 npm 安装。只需将整个 `docusaurus-plugin-auto-sidebar` 文件夹放在您项目的 `plugins` 目录下即可。

## 使用方法

1. 在 `docusaurus.config.js` 中引入并配置插件：

```js
// docusaurus.config.js
const autoSidebarPlugin = require('./plugins/docusaurus-plugin-auto-sidebar');

module.exports = {
  // ... 其他配置
  plugins: [
    // ... 其他插件
    [
      autoSidebarPlugin,
      {
        // 选项配置，以下是默认值
        folderBasedSidebar: true, // 是否启用基于文件夹的侧边栏生成
        useFileNameAsLabel: true, // 是否使用文件名作为文档标签
        transformCategoryLabelOnly: false, // 是否只转换分类标签，不转换文档标签
        transformLabel: (name) => name, // 自定义标签转换逻辑
      }
    ],
  ],
  // ... 其他配置
};
```

2. 确保您的 `sidebars.js` 文件使用 `autogenerated` 类型：

```js
// sidebars.js
module.exports = {
  tutorialSidebar: [
    {
      type: 'autogenerated',
      dirName: '.', // 从docs目录生成侧边栏
    },
  ],
};
```

## 配置选项

| 选项 | 类型 | 默认值 | 描述 |
| --- | --- | --- | --- |
| `folderBasedSidebar` | `boolean` | `true` | 是否启用基于文件夹的侧边栏生成 |
| `useFileNameAsLabel` | `boolean` | `true` | 是否使用文件名作为文档标签，而不是文档内的标题 |
| `transformCategoryLabelOnly` | `boolean` | `false` | 是否只转换分类标签，不转换文档标签 |
| `transformLabel` | `function` | `(name) => name` | 自定义转换文件夹名和文件名为侧边栏标签的函数 |

### 标签转换示例

如果您想自定义文件夹名称和文件名的显示方式，可以提供 `transformLabel` 函数：

```js
// 将驼峰式命名转换为空格分隔的标题
[
  autoSidebarPlugin,
  {
    transformLabel: (name) => {
      return name
        .replace(/([A-Z])/g, ' $1') // 在大写字母前添加空格
        .replace(/^./, (str) => str.toUpperCase()) // 首字母大写
        .trim();
    },
  }
],
```

使用上述配置：
- 文件夹名 `dataStructure` 将显示为 `Data Structure`
- 文件名 `quickStart` 将显示为 `Quick Start`

### 特殊处理

- 对于 `index.md` 文件，插件会使用其父文件夹名称作为标签
- 您可以通过 `transformCategoryLabelOnly` 选项控制是否只格式化分类标签，不格式化文档标签

## 注意事项

- 此插件专为使用文件夹结构和文件名生成侧边栏导航而设计
- 插件会覆盖 Markdown 文件内的标题，使用文件名作为导航标签
- 最佳使用场景是具有清晰文件夹结构和有意义文件名的文档项目

## 支持的 Docusaurus 版本

- Docusaurus v3.x 